/*
DayPilot Lite
Copyright (c) 2005 - 2016 Annpoint s.r.o.
http://www.daypilot.org/
Licensed under Apache Software License 2.0
Version: 215-lite
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.Navigator!=='undefined'){return;};DayPilotNavigator={};DayPilot.Navigator=function(id){this.v='215-lite';var $a=this;this.id=id;this.api=2;this.isNavigator=true;this.angularAutoApply=true;this.weekStarts='Auto';this.selectMode='day';this.titleHeight=20;this.dayHeaderHeight=20;this.cellWidth=20;this.cellHeight=20;this.cssOnly=true;this.selectionStart=null;this.selectionEnd=null;this.selectionDay=new DayPilot.Date().getDatePart();this.showMonths=1;this.skipMonths=1;this.command="navigate";this.year=new DayPilot.Date().getYear();this.month=new DayPilot.Date().getMonth()+1;this.locale="en-us";this.theme="navigator_default";this.timeRangeSelectedHandling="Bind";this.onTimeRangeSelect=null;this.onTimeRangeSelected=null;this.nav={};this.$01=function(){this.root.dp=this;if(this.cssOnly){this.root.className=this.$02('_main');}else{this.root.className=this.$02('main');};this.root.style.width=(this.cellWidth*7)+'px';this.root.style.position="relative";var $b=document.createElement("input");$b.type='hidden';$b.name=$a.id+"_state";$b.id=$b.name;this.root.appendChild($b);this.state=$b;if(!this.startDate){this.startDate=new DayPilot.Date(DayPilot.Date.fromYearMonthDay(this.year,this.month));}else{this.startDate=new DayPilot.Date(this.startDate).firstDayOfMonth();};this.calendars=[];this.selected=[];this.months=[];};this.$03=function(){return $a.api===2;};this.$04=function(){this.root.innerHTML='';};this.$02=function($c){var $d=this.theme||this.cssClassPrefix;if($d){return $d+$c;}else{return "";}};this.$05=function($e,name){var $f=this.cssOnly?this.$02("_"+name):this.$02(name);DayPilot.Util.addClass($e,$f);};this.$06=function($e,name){var $f=this.cssOnly?this.$02("_"+name):this.$02(name);DayPilot.Util.removeClass($e,$f);};this.$07=function(j,$g){var $h={};$h.cells=[];$h.days=[];$h.weeks=[];var $i=this.startDate.addMonths(j);var $j=$g.before;var $k=$g.after;var $l=$i.firstDayOfMonth();var $m=$l.firstDayOfWeek($n.weekStarts());var $o=$l.addMonths(1);var $p=DayPilot.DateUtil.daysDiff($m,$o);var $q=6;$h.rowCount=$q;var $r=(new DayPilot.Date()).getDatePart();var $s=this.cellWidth*7;var $t=this.cellHeight*$q+this.titleHeight+this.dayHeaderHeight;$h.height=$t;var $u=document.createElement("div");$u.style.width=($s)+'px';$u.style.height=($t)+'px';$u.style.position='relative';if(this.cssOnly){$u.className=this.$02('_month');}else{$u.className=this.$02('month');};$u.style.cursor='default';$u.style.MozUserSelect='none';$u.style.KhtmlUserSelect='none';$u.style.WebkitUserSelect='none';$u.month=$h;this.root.appendChild($u);var $v=this.titleHeight+this.dayHeaderHeight;var tl=document.createElement("div");tl.style.position='absolute';tl.style.left='0px';tl.style.top='0px';tl.style.width=this.cellWidth+'px';tl.style.height=this.titleHeight+'px';tl.style.lineHeight=this.titleHeight+'px';tl.style.textAlign='left';tl.setAttribute("unselectable","on");if(this.cssOnly){tl.className=this.$02('_titleleft');}else{tl.className=this.$02('titleleft');};if($g.left){tl.style.cursor='pointer';tl.innerHTML="<span style='margin-left:2px;'>&lt;</span>";tl.onclick=this.$08;};$u.appendChild(tl);this.tl=tl;var ti=document.createElement("div");ti.style.position='absolute';ti.style.left=this.cellWidth+'px';ti.style.top='0px';ti.style.width=(this.cellWidth*5)+'px';ti.style.height=this.titleHeight+'px';ti.style.lineHeight=this.titleHeight+'px';ti.style.textAlign='center';ti.setAttribute("unselectable","on");if(this.cssOnly){ti.className=this.$02('_title');}else{ti.className=this.$02('title');};ti.innerHTML=$n.locale().monthNames[$i.getMonth()]+' '+$i.getYear();$u.appendChild(ti);this.ti=ti;var tr=document.createElement("div");tr.style.position='absolute';tr.style.left=(this.cellWidth*6)+'px';tr.style.top='0px';tr.style.width=this.cellWidth+'px';tr.style.height=this.titleHeight+'px';tr.style.lineHeight=this.titleHeight+'px';tr.style.textAlign='right';tr.setAttribute("unselectable","on");if(this.cssOnly){tr.className=this.$02('_titleright');}else{tr.className=this.$02('titleright');};if($g.right){tr.style.cursor='pointer';tr.innerHTML="<span style='margin-right:2px;'>&gt;</span>";tr.onclick=this.$09;};$u.appendChild(tr);this.tr=tr;for(var x=0;x<7;x++){$h.cells[x]=[];var dh=document.createElement("div");dh.style.position='absolute';dh.style.left=(x*this.cellWidth)+'px';dh.style.top=this.titleHeight+'px';dh.style.width=this.cellWidth+'px';dh.style.height=this.dayHeaderHeight+'px';dh.style.lineHeight=this.dayHeaderHeight+'px';dh.style.textAlign='right';dh.setAttribute("unselectable","on");if(this.cssOnly){dh.className=this.$02('_dayheader');}else{dh.className=this.$02('dayheader');};dh.innerHTML="<span style='margin-right: 2px'>"+this.$0a(x)+"</span>";$u.appendChild(dh);$h.days.push(dh);for(var y=0;y<$q;y++){var $w=$m.addDays(y*7+x);var $x=this.$0b($w)&&this.$0c()!=='none';var $y=$w.getMonth()===$i.getMonth();var $z=$w.getTime()<$i.getTime();var $A=$w.getTime()>$i.getTime();var $B;var dc=document.createElement("div");dc.day=$w;dc.x=x;dc.y=y;dc.isCurrentMonth=$y;if(this.cssOnly){dc.className=this.$02(($y?'_day':'_dayother'));}else{dc.className=this.$02(($y?'day':'dayother'));};if($w.getTime()===$r.getTime()&&$y){this.$05(dc,'today');};if($w.dayOfWeek()===0||$w.dayOfWeek()===6){this.$05(dc,'weekend');};dc.style.position='absolute';dc.style.left=(x*this.cellWidth)+'px';dc.style.top=(y*this.cellHeight+$v)+'px';dc.style.width=this.cellWidth+'px';dc.style.height=this.cellHeight+'px';dc.style.lineHeight=this.cellHeight+'px';dc.style.textAlign='right';var $C=document.createElement("div");$C.style.position='absolute';if(this.cssOnly){$C.className=($w.getTime()===$r.getTime()&&$y)?this.$02('_todaybox'):this.$02('_daybox');}else{$C.className=($w.getTime()===$r.getTime()&&$y)?this.$02('todaybox'):this.$02('daybox');};$C.style.left='0px';$C.style.top='0px';$C.style.width=(this.cellWidth-2)+'px';$C.style.height=(this.cellHeight-2)+'px';dc.appendChild($C);var $D=null;if(this.cells&&this.cells[$w.toStringSortable()]){$D=this.cells[$w.toStringSortable()];if($D.css){this.$05(dc,$D.css);}};var $E=null;if($y||($j&&$z)||($k&&$A)){$E=document.createElement("span");$E.innerHTML=$w.getDay();dc.style.cursor='pointer';dc.isClickable=true;if($x){this.$05(dc,'select');};if($D&&$D.html){$E.innerHTML=$D.html;};$E.style.marginRight='2px';dc.appendChild($E);};dc.setAttribute("unselectable","on");dc.onclick=this.$0d;dc.onmousedown=this.$0e;dc.onmousemove=this.$0f;if($x){this.selected.push(dc);};$u.appendChild(dc);$h.cells[x][y]=dc;}};var $F=document.createElement("div");$F.style.position='absolute';$F.style.left='0px';$F.style.top=($v-2)+'px';$F.style.width=(this.cellWidth*7)+'px';$F.style.height='1px';$F.style.fontSize='1px';$F.style.lineHeight='1px';if(this.cssOnly){$F.className=this.$02("_line");}else{$F.className=this.$02("line");};$u.appendChild($F);this.months.push($h);};this.$0c=function(){var $G=this.selectMode||"";return $G.toLowerCase();};this.$0g=function(){var $G=$a.$0c();switch($G){case 'day':this.selectionStart=this.selectionDay;this.selectionEnd=this.selectionStart;break;case 'week':this.selectionStart=this.selectionDay.firstDayOfWeek($n.weekStarts());this.selectionEnd=this.selectionStart.addDays(6);break;case 'month':this.selectionStart=this.selectionDay.firstDayOfMonth();this.selectionEnd=this.selectionDay.lastDayOfMonth();break;case 'none':this.selectionStart=this.selectionDay;this.selectionEnd=this.selectionStart;break;default:throw "Unknown selectMode value.";}};this.select=function($H){var $I=true;var $J=this.selectionStart;var $K=this.selectionEnd;this.selectionStart=new DayPilot.Date($H).getDatePart();this.selectionDay=this.selectionStart;var $L=false;if($I){var $M=this.startDate;if(this.selectionStart.getTime()<this.visibleStart().getTime()||this.selectionStart.getTime()>this.visibleEnd().getTime()){$M=this.selectionStart.firstDayOfMonth();};if($M.toStringSortable()!==this.startDate.toStringSortable()){$L=true;};this.startDate=$M;};this.$0g();this.$04();this.$01();this.$0h();if(!$J.equals(this.selectionStart)||!$K.equals(this.selectionEnd)){this.$0i();}};this.update=function(){this.$0j();this.$0g();this.$04();this.$01();this.$0h();};this.$0a=function(i){var x=i+$n.weekStarts();if(x>6){x-=7;};return $n.locale().dayNamesShort[x];};this.$0b=function($H){if(this.selectionStart===null||this.selectionEnd===null){return false;};if(this.selectionStart.getTime()<=$H.getTime()&&$H.getTime()<=this.selectionEnd.getTime()){return true;};return false;};this.$0e=function(ev){};this.$0f=function(ev){};this.$0d=function(ev){var $h=this.parentNode.month;var x=this.x;var y=this.y;var $w=$h.cells[x][y].day;if(!$h.cells[x][y].isClickable){return;};$a.clearSelection();$a.selectionDay=$w;var $w=$a.selectionDay;switch($a.$0c()){case 'none':$a.selectionStart=$w;$a.selectionEnd=$w;break;case 'day':var s=$h.cells[x][y];$a.$05(s,'select');$a.selected.push(s);$a.selectionStart=s.day;$a.selectionEnd=s.day;break;case 'week':for(var j=0;j<7;j++){$a.$05($h.cells[j][y],'select');$a.selected.push($h.cells[j][y]);};$a.selectionStart=$h.cells[0][y].day;$a.selectionEnd=$h.cells[6][y].day;break;case 'month':var $N=null;var end=null;for(var y=0;y<6;y++){for(var x=0;x<7;x++){var s=$h.cells[x][y];if(!s){continue;};if(s.day.getYear()===$w.getYear()&&s.day.getMonth()===$w.getMonth()){$a.$05(s,'select');$a.selected.push(s);if($N===null){$N=s.day;};end=s.day;}}};$a.selectionStart=$N;$a.selectionEnd=end;break;default:throw 'unknown selectMode';};$a.$0i();};this.$0i=function(){var $N=$a.selectionStart;var end=$a.selectionEnd.addDays(1);var $p=DayPilot.DateUtil.daysDiff($N,end);var $w=$a.selectionDay;if($a.$03()){var $O={};$O.start=$N;$O.end=end;$O.day=$w;$O.days=$p;$O.preventDefault=function(){this.preventDefault.value=true;};if(typeof $a.onTimeRangeSelect==='function'){$a.$0k.apply(function(){$a.onTimeRangeSelect($O);});if($O.preventDefault.value){return;}};switch($a.timeRangeSelectedHandling){case 'Bind':var $P=eval($a.bound);if($P){var $Q={};$Q.start=$N;$Q.end=end;$Q.days=$p;$Q.day=$w;$P.commandCallBack($a.command,$Q);};break;case 'None':break;};if(typeof $a.onTimeRangeSelected==='function'){$a.$0k.apply(function(){$a.onTimeRangeSelected($O);});}}else{switch($a.timeRangeSelectedHandling){case 'Bind':var $P=eval($a.bound);if($P){var $Q={};$Q.start=$N;$Q.end=end;$Q.days=$p;$Q.day=$w;$P.commandCallBack($a.command,$Q);};break;case 'JavaScript':$a.onTimeRangeSelected($N,end,$w);break;case 'None':break;}}};this.$09=function(ev){$a.$0l($a.skipMonths);};this.$08=function(ev){$a.$0l(-$a.skipMonths);};this.$0l=function(i){this.startDate=this.startDate.addMonths(i);this.$04();this.$01();this.$0h();};this.visibleStart=function(){return $a.startDate.firstDayOfMonth().firstDayOfWeek($n.weekStarts());};this.visibleEnd=function(){return $a.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek($n.weekStarts()).addDays(42);};this.$0h=function(){for(var j=0;j<this.showMonths;j++){var $g=this.$0m(j);this.$07(j,$g);};this.root.style.height=this.$0n()+"px";};this.$0n=function(){var $R=0;for(var i=0;i<this.months.length;i++){var $h=this.months[i];$R+=$h.height;};return $R;};this.$0m=function(j){if(this.internal.showLinks){return this.internal.showLinks;};var $g={};$g.left=(j===0);$g.right=(j===0);$g.before=j===0;$g.after=j===this.showMonths-1;return $g;};this.internal={};this.$0o={};var $n=this.$0o;$n.locale=function(){return DayPilot.Locale.find($a.locale);};$n.weekStarts=function(){if($a.weekStarts==='Auto'){var $S=$n.locale();if($S){return $S.weekStarts;}else{return 0;}}else{return $a.weekStarts;}};this.clearSelection=function(){for(var j=0;j<this.selected.length;j++){this.$06(this.selected[j],'select');};this.selected=[];};this.$0k={};this.$0k.scope=null;this.$0k.notify=function(){if($a.$0k.scope){$a.$0k.scope["$apply"]();}};this.$0k.apply=function(f){if($a.angularAutoApply&&$a.$0k.scope){$a.$0k.scope["$apply"](f);}else{f();}};this.$0p=function(){if(this.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $a.items==='undefined')||(!$a.items);}else{return false;}};this.$0j=function(){if(!$a.cssOnly){$a.cssOnly=true;window.console&&window.console.log&&window.console.log("DayPilot: cssOnly = false mode is not supported anymore.");}};this.$0q=function(){if(this.id&&this.id.tagName){this.nav.top=this.id;}else if(typeof this.id==="string"){this.nav.top=document.getElementById(this.id);if(!this.nav.top){throw "DayPilot.Navigator: The placeholder element not found: '"+id+"'.";}}else{throw "DayPilot.Navigator() constructor requires the target element or its ID as a parameter";};this.root=this.nav.top;};this.init=function(){this.$0q();this.$0j();if(this.root.dp){return;};this.$0g();this.$01();this.$0h();this.$0r();this.initialized=true;};this.dispose=function(){var c=$a;if(!c.root){return;};c.root.removeAttribute("style");c.root.removeAttribute("class");c.root.dp=null;c.root.innerHTML=null;c.root=null;};this.$0r=function(){this.root.dispose=this.dispose;};this.Init=this.init;};if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotNavigator=function($T){var $m=null;var j=this.each(function(){if(this.daypilot){return;};var $U=new DayPilot.Navigator(this.id);this.daypilot=$U;for(var name in $T){$U[name]=$T[name];};$U.Init();if(!$m){$m=$U;}});if(this.length===1){return $m;}else{return j;}};})(jQuery);};(function registerAngularModule(){var $V=DayPilot.am();if(!$V){return;};$V.directive("daypilotNavigator",function(){return{"restrict":"E","template":"<div id='{{id}};'></div>","compile":function compile(element,$W){element.replaceWith(this["template"].replace("{{id}};",$W["id"]));return function link($X,element,$W){var $a=new DayPilot.Navigator(element[0]);$a.$0k.scope=$X;$a.init();var $Y=$W["id"];if($Y){$X[$Y]=$a;};var $Z=$X["$watch"];$Z.call($X,$W["daypilotConfig"],function($00){for(var name in $00){$a[name]=$00[name];};$a.update();},true);};}};});})();if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


