/*
DayPilot Lite
Copyright (c) 2005 - 2016 Annpoint s.r.o.
http://www.daypilot.org/
Licensed under Apache Software License 2.0
Version: 215-lite
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){var $a=function(){};if(typeof DayPilot.Month!=='undefined'){return;};var DayPilotMonth={};DayPilotMonth.Month=function($b){this.v='215-lite';this.nav={};var $c=this;this.id=$b;this.isMonth=true;this.hideUntilInit=true;this.angularAutoApply=false;this.api=2;this.cssOnly=true;this.cssClassPrefix="month_default";this.theme=null;this.startDate=new DayPilot.Date();this.width='100%';this.cellHeight=100;this.eventFontColor="#000000";this.eventFontFamily="Tahoma";this.eventFontSize="11px";this.headerBackColor='#F3F3F9';this.headerFontColor='#42658C';this.headerFontFamily="Tahoma";this.headerFontSize="10pt";this.headerHeight=20;this.weekStarts=1;this.innerBorderColor='#cccccc';this.borderColor='#CED2CE';this.eventHeight=25;this.cellHeaderHeight=16;this.afterRender=function(){};this.backColor='#ffffff';this.nonBusinessBackColor='#ffffff';this.cellHeaderBackColor='#ffffff';this.cellHeaderFontColor='#42658C';this.cellHeaderFontFamily='Tahoma';this.cellHeaderFontSize='10pt';this.eventBackColor='#2951A5';this.eventBorderColor='#2951A5';this.eventFontColor='#ffffff';this.eventFontFamily='Tahoma';this.eventFontSize='11px';this.cellWidth=14.285;this.lineSpace=1;this.eventClickHandling='Enabled';this.eventMoveHandling='Update';this.eventResizeHandling='Update';this.timeRangeSelectedHandling='Enabled';this.onEventClick=null;this.onEventClicked=null;this.onEventMove=null;this.onEventMoved=null;this.onEventResize=null;this.onEventResized=null;this.onTimeRangeSelect=null;this.onTimeRangeSelected=null;this.backendUrl=null;this.cellEvents=[];this.elements={};this.elements.events=[];this.cache={};this.updateView=function($d,$e){var $d=eval("("+$d+")");if($d.CallBackRedirect){document.location.href=$d.CallBackRedirect;return;};if($d.UpdateType==="None"){$c.fireAfterRenderDetached($d.CallBackData,true);return;};$c.events.list=$d.Events;if($d.UpdateType==="Full"){$c.startDate=$d.StartDate;$c.headerBackColor=$d.HeaderBackColor?$d.HeaderBackColor:$c.headerBackColor;$c.backColor=$d.BackColor?$d.BackColor:$c.backColor;$c.nonBusinessBackColor=$d.NonBusinessBackColor?$d.NonBusinessBackColor:$c.nonBusinessBackColor;$c.timeFormat=$d.TimeFormat?$d.TimeFormat:$c.timeFormat;if(typeof $d.WeekStarts!=='undefined'){$c.weekStarts=$d.WeekStarts;};$c.hashes=$d.Hashes;};$c.$0Z();$c.$10();$c.$11();if($d.UpdateType==="Full"){$c.$12();$c.$13();};$c.updateHeight();$c.show();$c.$14();$c.fireAfterRenderDetached($d.CallBackData,true);};this.fireAfterRenderDetached=function($f,$g){var $h=function($f,$i){return function(){if($c.afterRender){$c.afterRender($f,$i);}};};window.setTimeout($h($f,$g),0);};this.lineHeight=function(){return this.eventHeight+this.lineSpace;};this.events={};this.events.add=function(e){e.calendar=$c;if(!$c.events.list){$c.events.list=[];};$c.events.list.push(e.data);$c.update();$c.$15.notify();};this.events.update=function(e){e.commit();$c.update();$c.$15.notify();};this.events.remove=function(e){var $j=DayPilot.indexOf($c.events.list,e.data);$c.events.list.splice($j,1);$c.update();$c.$15.notify();};this.update=function(){if(!this.cells){return;};var $k=true;this.$16();$c.$0Z();$c.$10();$c.$11();if($k){$c.$12();$c.$13();};$c.updateHeight();$c.show();$c.$14();};this.$17={};this.$17.events=[];this.$18=function(i){var $l=this.$17.events;var $f=this.events.list[i];var $m={};for(var name in $f){$m[name]=$f[name];};if(typeof this.onBeforeEventRender==='function'){var $n={};$n.data=$m;this.onBeforeEventRender($n);};$l[i]=$m;};this.$11=function(){var $o=this.events.list;if(!$o){return;};if(typeof this.onBeforeEventRender==='function'){for(var i=0;i<$o.length;i++){this.$18(i);}};for(var x=0;x<$o.length;x++){var $f=$o[x];$f.start=new DayPilot.Date($f.start);$f.end=new DayPilot.Date($f.end);if($f.start.getTime()>$f.end.getTime()){continue;};for(var i=0;i<this.rows.length;i++){var $p=this.rows[i];var ep=new DayPilot.Event($f,this);if($p.belongsHere(ep)){$p.events.push(ep);if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$17.events[x];}}}};for(var ri=0;ri<this.rows.length;ri++){var $p=this.rows[ri];$p.events.sort(this.eventComparer);for(var ei=0;ei<this.rows[ri].events.length;ei++){var ev=$p.events[ei];var $q=$p.getStartColumn(ev);var $r=$p.getWidth(ev);var $s=$p.putIntoLine(ev,$q,$r,ri);}}};this.$0Z=function(){for(var i=0;i<this.elements.events.length;i++){var e=this.elements.events[i];e.event=null;e.click=null;e.parentNode.removeChild(e);};this.elements.events=[];};this.$14=function(){this.$19();};this.$19=function(){this.elements.events=[];for(var ri=0;ri<this.rows.length;ri++){var $p=this.rows[ri];for(var li=0;li<$p.lines.length;li++){var $s=$p.lines[li];for(var pi=0;pi<$s.length;pi++){this.$1a($s[pi]);}}}};this.eventComparer=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $t=a.start().getTime()-b.start().getTime();if($t!==0){return $t;};var $u=b.end().getTime()-a.end().getTime();return $u;};this.drawShadow=function(x,y,$s,$v,$w,e){if(!$w){$w=0;};var $x=$v;this.shadow={};this.shadow.list=[];this.shadow.start={x:x,y:y};this.shadow.width=$v;var $y=y*7+x-$w;if($y<0){$x+=$y;x=0;y=0;};var $z=$w;while($z>=7){y--;$z-=7;};if($z>x){var $A=7-this.getColCount();if($z>(x+$A)){y--;x=x+7-$z;}else{$x=$x-$z+x;x=0;}}else{x-=$z;};if(y<0){y=0;x=0;};var $B=null;if(DayPilotMonth.resizingEvent){$B='w-resize';}else if(DayPilotMonth.movingEvent){$B="move";};this.nav.top.style.cursor=$B;while($x>0&&y<this.rows.length){var $C=Math.min(this.getColCount()-x,$x);var $p=this.rows[y];var top=this.getRowTop(y);var $D=$p.getHeight();var $E=document.createElement("div");$E.setAttribute("unselectable","on");$E.style.position='absolute';$E.style.left=(this.getCellWidth()*x)+'%';$E.style.width=(this.getCellWidth()*$C)+'%';$E.style.top=(top)+'px';$E.style.height=($D)+'px';$E.style.cursor=$B;var $F=document.createElement("div");$F.setAttribute("unselectable","on");$E.appendChild($F);$F.style.position="absolute";$F.style.top="0px";$F.style.right="0px";$F.style.left="0px";$F.style.bottom="0px";$F.style.backgroundColor="#aaaaaa";$F.style.opacity=0.5;$F.style.filter="alpha(opacity=50)";this.nav.top.appendChild($E);this.shadow.list.push($E);$x-=($C+7-this.getColCount());x=0;y++;}};this.clearShadow=function(){if(this.shadow){for(var i=0;i<this.shadow.list.length;i++){this.nav.top.removeChild(this.shadow.list[i]);};this.shadow=null;this.nav.top.style.cursor='';}};this.getEventTop=function($p,$s){var top=this.headerHeight;for(var i=0;i<$p;i++){top+=this.rows[i].getHeight();};top+=this.cellHeaderHeight;top+=$s*this.lineHeight();return top;};this.getDateFromCell=function(x,y){return this.firstDate.addDays(y*7+x);};this.$1a=function(e){var $f=e.cache||e.data;var $p=e.part.row;var $s=e.part.line;var $q=e.part.colStart;var $r=e.part.colWidth;var $G=this.getCellWidth()*($q);var $v=this.getCellWidth()*($r);var top=this.getEventTop($p,$s);var $H=document.createElement("div");$H.setAttribute("unselectable","on");$H.style.height=this.eventHeight+'px';$H.className=this.$1b("_event");if($f.cssClass){DayPilot.Util.addClass($H,$f.cssClass);};$H.event=e;$H.style.width=$v+'%';$H.style.position='absolute';$H.style.left=$G+'%';$H.style.top=top+'px';if(this.showToolTip&&e.client.toolTip()){$H.title=e.client.toolTip();};$H.onclick=$c.eventClickDispatch;$H.onmousedown=function(ev){ev=ev||window.event;var $I=ev.which||ev.button;ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};if($I===1){DayPilotMonth.movingEvent=null;if(this.style.cursor==='w-resize'||this.style.cursor==='e-resize'){var $J={};$J.start={};$J.start.x=$q;$J.start.y=$p;$J.event=$H.event;$J.width=DayPilot.DateUtil.daysSpan($J.event.start(),$J.event.end())+1;$J.direction=this.style.cursor;DayPilotMonth.resizingEvent=$J;}else if(this.style.cursor==='move'||$c.eventMoveHandling!=='Disabled'){$c.clearShadow();var $K=DayPilot.mo2($c.nav.top,ev);if(!$K){return;};var $L=$c.getCellBelowPoint($K.x,$K.y);var $y=DayPilot.DateUtil.daysDiff(e.start(),$c.rows[$p].start);var $w=($L.y*7+$L.x)-($p*7+$q);if($y){$w+=$y;};var $M={};$M.start={};$M.start.x=$q;$M.start.y=$p;$M.start.line=$s;$M.offset=$c.eventMoveToPosition?0:$w;$M.colWidth=$r;$M.event=$H.event;$M.coords=$K;DayPilotMonth.movingEvent=$M;}}};$H.onmousemove=function(ev){if(typeof(DayPilotMonth)==='undefined'){return;};if(DayPilotMonth.movingEvent||DayPilotMonth.resizingEvent){return;};var $w=DayPilot.mo3($H,ev);if(!$w){return;};var $N=6;if($w.x<=$N&&$c.eventResizeHandling!=='Disabled'){if(e.part.startsHere){$H.style.cursor="w-resize";$H.dpBorder='left';}else{$H.style.cursor='not-allowed';}}else if($H.clientWidth-$w.x<=$N&&$c.eventResizeHandling!=='Disabled'){if(e.part.endsHere){$H.style.cursor="e-resize";$H.dpBorder='right';}else{$H.style.cursor='not-allowed';}}else{$H.style.cursor='default';}};$H.onmouseout=function(ev){$H.style.cursor='';};var $O=document.createElement("div");$O.setAttribute("unselectable","on");$O.className=this.$1b("_event_inner");if($f.borderColor){$O.style.borderColor=$f.borderColor;};if($f.backColor){$O.style.background=$f.backColor;if(DayPilot.browser.ie9||DayPilot.browser.ielt9){$O.style.filter='';}};if($f.fontColor){$O.style.color=$f.fontColor;};$O.innerHTML=e.client.html();$H.appendChild($O);this.elements.events.push($H);this.nav.events.appendChild($H);};this.lastVisibleDayOfMonth=function(){return this.startDate.lastDayOfMonth();};this.$10=function(){if(typeof this.startDate==='string'){this.startDate=new DayPilot.Date(this.startDate);};this.startDate=this.startDate.firstDayOfMonth();this.firstDate=this.startDate.firstDayOfWeek(this.getWeekStart());var $P=this.startDate;var $Q;var $R=this.lastVisibleDayOfMonth();var $S=DayPilot.DateUtil.daysDiff(this.firstDate,$R)+1;$Q=Math.ceil($S/7);this.days=$Q*7;this.rows=[];for(var x=0;x<$Q;x++){var r={};r.start=this.firstDate.addDays(x*7);r.end=r.start.addDays(this.getColCount());r.events=[];r.lines=[];r.index=x;r.minHeight=this.cellHeight;r.calendar=this;r.belongsHere=function(ev){if(ev.end().getTime()===ev.start().getTime()&&ev.start().getTime()===this.start.getTime()){return true;};return !(ev.end().getTime()<=this.start.getTime()||ev.start().getTime()>=this.end.getTime());};r.getPartStart=function(ev){return DayPilot.DateUtil.max(this.start,ev.start());};r.getPartEnd=function(ev){return DayPilot.DateUtil.min(this.end,ev.end());};r.getStartColumn=function(ev){var $T=this.getPartStart(ev);return DayPilot.DateUtil.daysDiff(this.start,$T);};r.getWidth=function(ev){return DayPilot.DateUtil.daysSpan(this.getPartStart(ev),this.getPartEnd(ev))+1;};r.putIntoLine=function(ev,$q,$r,$p){var $U=this;for(var i=0;i<this.lines.length;i++){var $s=this.lines[i];if($s.isFree($q,$r)){$s.addEvent(ev,$q,$r,$p,i);return i;}};var $s=[];$s.isFree=function($q,$r){var $V=true;for(var i=0;i<this.length;i++){if(!($q+$r-1<this[i].part.colStart||$q>this[i].part.colStart+this[i].part.colWidth-1)){$V=false;}};return $V;};$s.addEvent=function(ep,$q,$r,$p,$j){ep.part.colStart=$q;ep.part.colWidth=$r;ep.part.row=$p;ep.part.line=$j;ep.part.startsHere=$U.start.getTime()<=ep.start().getTime();ep.part.endsHere=$U.end.getTime()>=ep.end().getTime();this.push(ep);};$s.addEvent(ev,$q,$r,$p,this.lines.length);this.lines.push($s);return this.lines.length-1;};r.getStart=function(){var $W=0;for(var i=0;i<$c.rows.length&&i<this.index;i++){$W+=$c.rows[i].getHeight();}};r.getHeight=function(){return Math.max(this.lines.length*$c.lineHeight()+$c.cellHeaderHeight,this.calendar.cellHeight);};this.rows.push(r);};this.endDate=this.firstDate.addDays($Q*7);};this.getHeight=function(){var $D=this.headerHeight;for(var i=0;i<this.rows.length;i++){$D+=this.rows[i].getHeight();};return $D;};this.getWidth=function($W,end){var $X=(end.y*7+end.x)-($W.y*7+$W.x);return $X+1;};this.getMinCoords=function($Y,$Z){if(($Y.y*7+$Y.x)<($Z.y*7+$Z.x)){return $Y;}else{return $Z;}};this.$1b=function($00){var $01=this.theme||this.cssClassPrefix;if($01){return $01+$00;}else{return "";}};this.drawTop=function(){var $02=this.nav.top;$02.setAttribute("unselectable","on");$02.style.MozUserSelect='none';$02.style.KhtmlUserSelect='none';$02.style.WebkitUserSelect='none';$02.style.position='relative';if(this.width){$02.style.width=this.width;};$02.style.height=this.getHeight()+'px';$02.onselectstart=function(e){return false;};if(this.hideUntilInit){$02.style.visibility='hidden';};if(this.cssOnly){$02.className=this.$1b("_main");}else{$02.style.border="1px solid "+this.borderColor;};var $03=document.createElement("div");this.nav.cells=$03;$03.style.position="absolute";$03.style.left="0px";$03.style.right="0px";$03.setAttribute("unselectable","on");$02.appendChild($03);var $o=document.createElement("div");this.nav.events=$o;$o.style.position="absolute";$o.style.left="0px";$o.style.right="0px";$o.setAttribute("unselectable","on");$02.appendChild($o);$02.onmousemove=function(ev){if(DayPilotMonth.resizingEvent){var $K=DayPilot.mo2($c.nav.top,ev);if(!$K){return;};var $L=$c.getCellBelowPoint($K.x,$K.y);$c.clearShadow();var $J=DayPilotMonth.resizingEvent;var $04=$J.start;var $v,$W;if($J.direction==='w-resize'){$W=$L;var $05=$J.event.end();if($05.getDatePart()===$05){$05=$05.addDays(-1);};var end=$c.getCellFromDate($05);$v=$c.getWidth($L,end);}else{$W=$c.getCellFromDate($J.event.start());$v=$c.getWidth($W,$L);};if($v<1){$v=1;};$c.drawShadow($W.x,$W.y,0,$v);}else if(DayPilotMonth.movingEvent){var $K=DayPilot.mo2($c.nav.top,ev);if(!$K){return;};if($K.x===DayPilotMonth.movingEvent.coords.x&&$K.y===DayPilotMonth.movingEvent.coords.y){return;};var $L=$c.getCellBelowPoint($K.x,$K.y);$c.clearShadow();var event=DayPilotMonth.movingEvent.event;var $w=DayPilotMonth.movingEvent.offset;var $v=$c.cellMode?1:DayPilot.DateUtil.daysSpan(event.start(),event.end())+1;if($v<1){$v=1;};$c.drawShadow($L.x,$L.y,0,$v,$w,event);}else if(DayPilotMonth.timeRangeSelecting){var $K=DayPilot.mo2($c.nav.top,ev);if(!$K){return;};var $L=$c.getCellBelowPoint($K.x,$K.y);$c.clearShadow();var $W=DayPilotMonth.timeRangeSelecting;var $06=$W.y*7+$W.x;var $07=$L.y*7+$L.x;var $v=Math.abs($07-$06)+1;if($v<1){$v=1;};var $08=$06<$07?$W:$L;DayPilotMonth.timeRangeSelecting.from={x:$08.x,y:$08.y};DayPilotMonth.timeRangeSelecting.width=$v;DayPilotMonth.timeRangeSelecting.moved=true;$c.drawShadow($08.x,$08.y,0,$v,0,null);}};};this.updateHeight=function(){this.nav.top.style.height=this.getHeight()+'px';for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].style.top=this.getRowTop(y)+'px';this.cells[x][y].style.height=this.rows[y].getHeight()+'px';}}};this.getCellBelowPoint=function(x,y){var $09=Math.floor(this.nav.top.clientWidth/this.getColCount());var $0a=Math.min(Math.floor(x/$09),this.getColCount()-1);var $p=null;var $D=this.headerHeight;var $0b=0;for(var i=0;i<this.rows.length;i++){var $0c=$D;$D+=this.rows[i].getHeight();if(y<$D){$0b=y-$0c;$p=i;break;}};if($p===null){$p=this.rows.length-1;};var $L={};$L.x=$0a;$L.y=$p;$L.relativeY=$0b;return $L;};this.getCellFromDate=function($0d){var $v=DayPilot.DateUtil.daysDiff(this.firstDate,$0d);var $L={x:0,y:0};while($v>=7){$L.y++;$v-=7;};$L.x=$v;return $L;};this.$13=function(){var $0e=document.createElement("div");$0e.oncontextmenu=function(){return false;};this.nav.cells.appendChild($0e);this.cells=[];for(var x=0;x<this.getColCount();x++){this.cells[x]=[];var $0f=null;var $0g=document.createElement("div");$0g.setAttribute("unselectable","on");$0g.style.position='absolute';$0g.style.left=(this.getCellWidth()*x)+'%';$0g.style.width=(this.getCellWidth())+'%';$0g.style.top='0px';$0g.style.height=(this.headerHeight)+'px';var $0h=x+this.getWeekStart();if($0h>6){$0h-=7;};if(this.cssOnly){$0g.className=this.$1b("_header");};var $O=document.createElement("div");$O.setAttribute("unselectable","on");$O.innerHTML=$0i.locale().dayNames[$0h];$0g.appendChild($O);$O.style.position="absolute";$O.style.top="0px";$O.style.bottom="0px";$O.style.left="0px";$O.style.right="0px";if(this.cssOnly){$O.className=this.$1b("_header_inner");}else{$O.style.backgroundColor=this.headerBackColor;$O.style.fontFamily=this.headerFontFamily;$O.style.fontSize=this.headerFontSize;$O.style.color=this.headerFontColor;$O.style.textAlign='center';$O.style.cursor='default';if(x!==this.getColCount()-1){$O.style.borderRight='1px solid '+this.borderColor;}};$O.innerHTML=$0i.locale().dayNames[$0h];$0e.appendChild($0g);for(var y=0;y<this.rows.length;y++){this.drawCell(x,y,$0e);}}};this.$12=function(){for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].onclick=null;}};this.nav.cells.innerHTML='';};this.$1c=function(){return $c.api===2;};this.drawCell=function(x,y,$0e){var $p=this.rows[y];var d=this.firstDate.addDays(y*7+x);var $0j=this.cellProperties?this.cellProperties[y*this.getColCount()+x]:null;var $L=document.createElement("div");$L.setAttribute("unselectable","on");$L.style.position='absolute';$L.style.cursor='default';$L.style.left=(this.getCellWidth()*x)+'%';$L.style.width=(this.getCellWidth())+'%';$L.style.top=(this.getRowTop(y))+'px';$L.style.height=($p.getHeight())+'px';if(this.cssOnly){$L.className=this.$1b("_cell");if(!this.isWeekend(d)){var $0k=this.$1b("_cell_business");DayPilot.Util.addClass($L,$0k);}};var $0l=this.startDate.addMonths(-1).getMonth();var $0m=this.startDate.addMonths(1).getMonth();var $0n=this.startDate.getMonth();var $O=document.createElement("div");$O.setAttribute("unselectable","on");$L.appendChild($O);$O.style.position="absolute";$O.style.left="0px";$O.style.right="0px";$O.style.top="0px";$O.style.bottom="0px";if(this.cssOnly){$O.className=this.$1b("_cell_inner");}else{$O.style.backgroundColor=this.getCellBackColor(d);if(x!==this.getColCount()-1){$O.style.borderRight='1px solid '+this.innerBorderColor;};if(y===0){$O.style.borderTop='1px solid '+this.borderColor;};$O.style.borderBottom='1px solid '+this.innerBorderColor;};$L.onmousedown=function(e){if($c.timeRangeSelectedHandling!=='Disabled'){$c.clearShadow();DayPilotMonth.timeRangeSelecting={"root":$c,"x":x,"y":y,"from":{x:x,y:y},"width":1};}};$L.onclick=function(){var $0o=function(d){var $W=new DayPilot.Date(d);var end=$W.addDays(1);$c.timeRangeSelectedDispatch($W,end);};if($c.timeRangeSelectedHandling!=='Disabled'){$0o(d);return;}};var $0p=document.createElement("div");$0p.setAttribute("unselectable","on");$0p.style.height=this.cellHeaderHeight+"px";if(this.cssOnly){$0p.className=this.$1b("_cell_header");}else{if(this.cellHeaderBackColor){$0p.style.backgroundColor=this.cellHeaderBackColor;};$0p.style.paddingRight='2px';$0p.style.textAlign="right";$0p.style.fontFamily=this.cellHeaderFontFamily;$0p.style.fontSize=this.cellHeaderFontSize;$0p.style.color=this.cellHeaderFontColor;};var $0d=d.getDay();if($0d===1){$0p.innerHTML=$0i.locale().monthNames[d.getMonth()]+' '+$0d;}else{$0p.innerHTML=$0d;};$O.appendChild($0p);this.cells[x][y]=$L;$0e.appendChild($L);};this.getWeekStart=function(){return $0i.locale().weekStarts;};this.getColCount=function(){return 7;};this.getCellWidth=function(){return 14.285;};this.getCellBackColor=function(d){if(d.getDayOfWeek()===6||d.getDayOfWeek()===0){return this.nonBusinessBackColor;};return this.backColor;};this.getRowTop=function($j){var top=this.headerHeight;for(var i=0;i<$j;i++){top+=this.rows[i].getHeight();};return top;};this.$1d=function($0q,$f,$0r){var $0s={};$0s.action=$0q;$0s.parameters=$0r;$0s.data=$f;$0s.header=this.$1e();var $0t="JSON"+DayPilot.JSON.stringify($0s);if(this.backendUrl){DayPilot.request(this.backendUrl,this.callBackResponse,$0t,this.ajaxError);}};this.callBackResponse=function($0u){$c.updateView($0u.responseText);};this.$1e=function(){var h={};h.control="dpm";h.id=this.id;h.v=this.v;h.visibleStart=new DayPilot.Date(this.firstDate);h.visibleEnd=h.visibleStart.addDays(this.days);h.startDate=$c.startDate;h.headerBackColor=this.headerBackColor;h.backColor=this.backColor;h.nonBusinessBackColor=this.nonBusinessBackColor;h.timeFormat=this.timeFormat;h.weekStarts=this.weekStarts;return h;};this.eventClickCallBack=function(e,$f){this.$1d('EventClick',$f,e);};this.eventClickDispatch=function(e){DayPilotMonth.movingEvent=null;DayPilotMonth.resizingEvent=null;var $H=this;var e=e||window.event;var $0v=e.ctrlKey;e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();};$c.eventClickSingle($H,$0v);};this.eventClickSingle=function($H){var e=$H.event;if(!e.client.clickEnabled()){return;};if($c.$1c()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventClick==='function'){$c.$15.apply(function(){$c.onEventClick($n);});if($n.preventDefault.value){return;}};switch($c.eventClickHandling){case 'CallBack':$c.eventClickCallBack(e);break;};if(typeof $c.onEventClicked==='function'){$c.$15.apply(function(){$c.onEventClicked($n);});}}else{switch($c.eventClickHandling){case 'CallBack':$c.eventClickCallBack(e);break;case 'JavaScript':$c.onEventClick(e);break;}}};this.eventMoveCallBack=function(e,$0w,$0x,$f,$0y){if(!$0w)throw 'newStart is null';if(!$0x)throw 'newEnd is null';var $0z={};$0z.e=e;$0z.newStart=$0w;$0z.newEnd=$0x;$0z.position=$0y;this.$1d('EventMove',$f,$0z);};this.eventMoveDispatch=function(e,x,y,$w,ev,$0y){var $0A=e.start().getTimePart();var $05=e.end().getDatePart();if($05!==e.end()){$05=$05.addDays(1);};var $0B=DayPilot.DateUtil.diff(e.end(),$05);var $0C=this.getDateFromCell(x,y);$0C=$0C.addDays(-$w);var $v=DayPilot.DateUtil.daysSpan(e.start(),e.end())+1;var $0D=$0C.addDays($v);var $0w=$0C.addTime($0A);var $0x=$0D.addTime($0B);if($c.$1c()){var $n={};$n.e=e;$n.newStart=$0w;$n.newEnd=$0x;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventMove==='function'){$c.$15.apply(function(){$c.onEventMove($n);});if($n.preventDefault.value){return;}};switch($c.eventMoveHandling){case 'CallBack':$c.eventMoveCallBack(e,$0w,$0x);break;case 'Update':e.start($0w);e.end($0x);$c.events.update(e);break;};if(typeof $c.onEventMoved==='function'){$c.$15.apply(function(){$c.onEventMoved($n);});}}else{switch($c.eventMoveHandling){case 'CallBack':$c.eventMoveCallBack(e,$0w,$0x);break;case 'JavaScript':$c.onEventMove(e,$0w,$0x);break;}}};this.eventResizeCallBack=function(e,$0w,$0x,$f){if(!$0w)throw 'newStart is null';if(!$0x)throw 'newEnd is null';var $0z={};$0z.e=e;$0z.newStart=$0w;$0z.newEnd=$0x;this.$1d('EventResize',$f,$0z);};this.eventResizeDispatch=function(e,$W,$v){var $0A=e.start().getTimePart();var $05=e.end().getDatePart();if($05!==e.end()){$05=$05.addDays(1);};var $0B=DayPilot.DateUtil.diff(e.end(),$05);var $0C=this.getDateFromCell($W.x,$W.y);var $0D=$0C.addDays($v);var $0w=$0C.addTime($0A);var $0x=$0D.addTime($0B);if($c.$1c()){var $n={};$n.e=e;$n.newStart=$0w;$n.newEnd=$0x;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventResize==='function'){$c.$15.apply(function(){$c.onEventResize($n);});if($n.preventDefault.value){return;}};switch($c.eventResizeHandling){case 'CallBack':$c.eventResizeCallBack(e,$0w,$0x);break;case 'Update':e.start($0w);e.end($0x);$c.events.update(e);break;};if(typeof $c.onEventResized==='function'){$c.$15.apply(function(){$c.onEventResized($n);});}}else{switch($c.eventResizeHandling){case 'CallBack':$c.eventResizeCallBack(e,$0w,$0x);break;case 'JavaScript':$c.onEventResize(e,$0w,$0x);break;}}};this.timeRangeSelectedCallBack=function($W,end,$f){var $0E={};$0E.start=$W;$0E.end=end;this.$1d('TimeRangeSelected',$f,$0E);};this.timeRangeSelectedDispatch=function($W,end){if(this.$1c()){var $n={};$n.start=$W;$n.end=end;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onTimeRangeSelect==='function'){$c.$15.apply(function(){$c.onTimeRangeSelect($n);});if($n.preventDefault.value){return;}};switch($c.timeRangeSelectedHandling){case 'CallBack':$c.timeRangeSelectedCallBack($W,end);break;};if(typeof $c.onTimeRangeSelected==='function'){$c.$15.apply(function(){$c.onTimeRangeSelected($n);});}}else{switch($c.timeRangeSelectedHandling){case 'CallBack':$c.timeRangeSelectedCallBack($W,end);break;case 'JavaScript':$c.onTimeRangeSelected($W,end);break;}}};this.$15={};this.$15.scope=null;this.$15.notify=function(){if($c.$15.scope){$c.$15.scope["$apply"]();}};this.$15.apply=function(f){f();};this.clearSelection=function(){$c.clearShadow();};this.commandCallBack=function($0F,$f){var $0z={};$0z.command=$0F;this.$1d('Command',$f,$0z);};this.isWeekend=function($0d){$0d=new DayPilot.Date($0d);var $0G=0;var $0H=6;if($0d.dayOfWeek()===$0G){return true;};if($0d.dayOfWeek()===$0H){return true;};return false;};this.$1f={};this.$1f.locale=function(){var $0I=DayPilot.Locale.find($c.locale);if(!$0I){return DayPilot.Locale.US;};return $0I;};var $0i=this.$1f;this.debug=function($0J,$0K){if(!this.debuggingEnabled){return;};if(!$c.debugMessages){$c.debugMessages=[];};$c.debugMessages.push($0J);if(typeof console!=='undefined'){console.log($0J);}};this.registerGlobalHandlers=function(){if(!DayPilotMonth.globalHandlers){DayPilotMonth.globalHandlers=true;DayPilot.re(document,'mouseup',DayPilotMonth.gMouseUp);}};this.loadFromServer=function(){if(this.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $c.events.list==='undefined')||(!$c.events.list);}else{return false;}};this.show=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$1g=function(){if(this.id&&this.id.tagName){this.nav.top=this.id;}else if(typeof this.id==="string"){this.nav.top=document.getElementById(this.id);if(!this.nav.top){throw "DayPilot.Month: The placeholder element not found: '"+id+"'.";}}else{throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";}};this.$16=function(){if(!$c.cssOnly){$c.cssOnly=true;window.console&&window.console.log&&window.console.log("DayPilot: cssOnly = false mode is not supported anymore.");}};this.$1h=function(){this.$10();this.drawTop();this.$13();this.registerGlobalHandlers();this.$1d('Init');};this.init=function(){this.$1g();var $0L=this.loadFromServer();this.$16();if($0L){this.$1h();return;};this.$10();this.$11();this.drawTop();this.$13();this.show();this.$14();this.registerGlobalHandlers();if(this.messageHTML){this.message(this.messageHTML);};this.fireAfterRenderDetached(null,false);};this.Init=this.init;};DayPilotMonth.gMouseUp=function(ev){if(DayPilotMonth.movingEvent){var $0M=DayPilotMonth.movingEvent;if(!$0M.event){return;};if(!$0M.event.calendar){return;};if(!$0M.event.calendar.shadow){return;};if(!$0M.event.calendar.shadow.start){return;};var $c=DayPilotMonth.movingEvent.event.calendar;var e=DayPilotMonth.movingEvent.event;var $W=$c.shadow.start;var $0y=$c.shadow.position;var $w=DayPilotMonth.movingEvent.offset;$c.clearShadow();DayPilotMonth.movingEvent=null;var ev=ev||window.event;$c.eventMoveDispatch(e,$W.x,$W.y,$w,ev,$0y);ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};DayPilotMonth.movingEvent=null;return false;}else if(DayPilotMonth.resizingEvent){var $0M=DayPilotMonth.resizingEvent;if(!$0M.event){return;};if(!$0M.event.calendar){return;};if(!$0M.event.calendar.shadow){return;};if(!$0M.event.calendar.shadow.start){return;};var $c=DayPilotMonth.resizingEvent.event.calendar;var e=DayPilotMonth.resizingEvent.event;var $W=$c.shadow.start;var $v=$c.shadow.width;$c.clearShadow();DayPilotMonth.resizingEvent=null;$c.eventResizeDispatch(e,$W,$v);ev.cancelBubble=true;DayPilotMonth.resizingEvent=null;return false;}else if(DayPilotMonth.timeRangeSelecting){if(DayPilotMonth.timeRangeSelecting.moved){var $0N=DayPilotMonth.timeRangeSelecting;var $c=$0N.root;var $W=new DayPilot.Date($c.getDateFromCell($0N.from.x,$0N.from.y));var end=$W.addDays($0N.width);$c.timeRangeSelectedDispatch($W,end);$c.clearShadow();};DayPilotMonth.timeRangeSelecting=null;}};DayPilot.Month=DayPilotMonth.Month;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotMonth=function($0O){var $Y=null;var j=this.each(function(){if(this.daypilot){return;};var $0P=new DayPilot.Month(this.id);this.daypilot=$0P;for(name in $0O){$0P[name]=$0O[name];};$0P.Init();if(!$Y){$Y=$0P;}});if(this.length===1){return $Y;}else{return j;}};})(jQuery);};(function registerAngularModule(){var $0Q=DayPilot.am();if(!$0Q){return;};$0Q.directive("daypilotMonth",['$parse',function($0R){return{"restrict":"E","template":"<div></div>","replace":true,"link":function($0S,element,$0T){var $c=new DayPilot.Month(element[0]);$c.$15.scope=$0S;$c.init();var $0U=$0T["id"];if($0U){$0S[$0U]=$c;};var $0V=$0T["publishAs"];if($0V){var getter=$0R($0V);var setter=getter.assign;setter($0S,$c);};for(var name in $0T){if(name.indexOf("on")===0){(function(name){$c[name]=function($n){var f=$0R($0T[name]);$0S["$apply"](function(){f($0S,{"args":$n});});};})(name);}};var $0W=$0S["$watch"];var $0X=$0T["config"]||$0T["daypilotConfig"];var $o=$0T["events"]||$0T["daypilotEvents"];$0W.call($0S,$0X,function($0Y){for(var name in $0Y){$c[name]=$0Y[name];};$c.update();},true);$0W.call($0S,$o,function($0Y){$c.events.list=$0Y;$c.update();},true);}};}]);})();if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

